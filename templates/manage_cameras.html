{% extends 'base.html' %}
{% load static %}

{% block title %}Manage Cameras{% endblock title %}

{%block content %}
  <div class="container pt-5">
    <div class="columns is-multiline is-centered mx-6 my-4">
      {% for camera in cameras %}
        <div class="column is-3">
          <div class="card">
            <div class="card-image">
              <figure class="image is-4by3">
                <a href="{% url 'view_camera' camera.pk %}">
                  {% if camera.snapshot %}
                  <img src="{{camera.snapshot.url}}" alt="Camera Snapshot" />
                  {% else %}
                  <img src="https://bulma.io/images/placeholders/1280x960.png" alt="Placeholder image" />
                  {% endif %}
                </a>
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-5 has-text-centered">{{camera.name}}</p>
                  <div class="tags is-centered">
                    {% if camera.is_onvif %}
                      <span class="tag is-info is-light is-rounded"> ONVIF Compliant </span>
                    {% endif %} 
                    
                    {% if camera.is_ptz %}
                      <span class="tag is-info is-light is-rounded"> PTZ Controls </span>
                    {% endif %} 
                    
                    {% if camera.is_active %}
                      <span class="tag is-success is-light is-rounded"> Active </span>
                    {% else %}
                      <span class="tag is-danger is-light is-rounded"> Inactive </span>
                    {% endif %} 
                    
                    {% if camera.video_height > 600 %}
                      <span class="tag is-primary is-light is-rounded">HD</span>
                    {% endif %}
                  </div>
                  <p class="has-text-centered is-size-6 has-text-weight-semibold">
                    Date Added: {{camera.date_added}}
                  </p>
                </div>
              </div>

              <div class="content">
                <div class="container">
                  <div class="buttons is-centered">
                    <a class="button is-info">Edit</a>
                    <a class="button is-danger">Delete</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
      <div class="column is-3">
        <div class="card">
          <div class="card-image">
            <a class="image is-16by9">
              <img src="{% static 'blue-plus-icon-9.jpg' %}" alt="Add a camera" />
            </a>
          </div>
          <div class="card-content is-centered">
            <div class="media">
              <div class="media-content">
                <p class="title is-5 has-text-centered">Add a camera</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock content %}
